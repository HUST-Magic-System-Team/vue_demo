### 说明
<pre>
除了登陆和短信验证码,其他所有接口都需要带上token参数.后台用于检验是否登陆
</pre>

<br/>
**简要描述：** 

1.添加建议接口

**请求URL：** 
- ` http://100.100.100.100:8080/api/suggestion/add `
  
**请求方式：**
- POST 

**参数：** 

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|token |是  |string | token    |
|content |是  |string |建议内容   |


 **返回示例**

```
 {
    "errno": 0,
    "errmsg": "",
    "data": {
        "suggestionId": 2
    }
}
```

2.删除建议接口

**请求URL：** 
- ` http://100.100.100.100:8080/api/suggestion/del `
  
**请求方式：**
- POST 

**参数：** 

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|token |是  |string | token    |
|suggestionId |是  |int |建议id   |

 **返回示例**

```
{
    "errno": 0,
    "errmsg": "",
}
```

3.资讯分组列表接口

**请求URL：** 
- ` http://100.100.100.100:8080/api/news_group/list `
  
**请求方式：**
- POST 

**参数：** 

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|token |是  |string | token    |

 **返回示例**

```
{
    "errno": 0,
    "errmsg": "",
    "data": {
        "list": [
            {
                "groupId": -1,
                "group": "全部",
                "unreadCount": 2
            },
            {
                "groupId": 1,
                "group": "分类一",
                "unreadCount": 2
            },
            {
                "groupId": 2,
                "group": "分类二",
                "unreadCount": 1
            }
        ]
    }
}
```


4.资讯列表接口:version2

**请求URL：** 
- ` http://100.100.100.100:8080/api/news/list2 `
  
**请求方式：**
- POST 

**参数：** 

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|token |是  |string | token    |
|page |是  |int | 页码从1开始    |
|size |是  |int | 页面大小    |
|groupId |否  |int |可选参数，资讯分类的groupId。    |


 **返回示例**

```
{
    "errno": 0,
    "errmsg": "",
    "data": {
        "list": {
            "count": 5,
            "totalPages": 1,
            "pageSize": 10,
            "currentPage": 1,
            "data": [
                {
                    "id": 13,
                    "pic": "http://down.cml922.com/news/dc82d74df704fee634f58e118a3fa00d.jpeg",
                    "title": "慢粒管家app使用指南",
                    "url": "https://mp.weixin.qq.com/s?__biz=MzI0MDg5MjExOQ==&mid=2247484548&idx=1&sn=b68a42eac7a611d894923def1df5bc28&chksm=e912a53cde652c2aa3603cfb698637160d3072a632962f1eff31a777bd801a4b9a6c2114ff0f&token=1576576678&lang=zh_CN#rd",
                    "position": 0,
                    "groupId": 1,
                    "isRead": false
                },
                {
                    "id": 3,
                    "pic": "http://down.cml922.com/static/news3.png",
                    "title": "慢性粒细胞白血病能否治愈相关问题",
                    "url": "https://mp.weixin.qq.com/s/9oj65xSbF3bplbAMcXzZIQ",
                    "position": 120,
                    "groupId": 1,
                    "isRead": true
                }
            ]
        }
    }
}
```

5.阅读资讯接口

**请求URL：** 
- ` http://100.100.100.100:8080/api/news/read `
  
**请求方式：**
- POST 

**参数：** 

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|token |是  |string | token    |
|newsId |是  |int | newsId    |


 **返回示例**

```
{
    "errno": 0,
    "errmsg": "",
    "data": ""
}
```

6.获取会员相关资料

**请求URL：** 
- ` http://100.100.100.100:8080/api/member/get `
  
**请求方式：**
- POST 

**参数：** 

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|token |是  |string | token    |


 **返回示例**

```
{
    "errno": 0,
    "errmsg": "",
    "data": {
        "info": {
            "userId": 7,
            "name": "zhaoxx",
            "phone":"13800001111",
            "email": "zhaxx@qq.com",
            "location": "xxx",
            "qq": "12345678",
            "address": "xxx",
            "isMember": true
        }
    }
}
```


7.保存会员相关资料

**请求URL：** 
- ` http://100.100.100.100:8080/api/member/save `
  
**请求方式：**
- POST 

**参数：** 

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|token |是  |string | token    |
|name |是  |string | 会员名   |
|phone |是  |string | 电话   |
|email | 否  |string | 电子邮箱    |
|location |否  |string | 省市，湖北省武汉市    |
|qq |否  |string | qq   |
|address |否  |string | 住址,xxx路XX号XX小区    |



 **返回示例**

```
{
    "errno": 0,
    "errmsg": "",
    "data": ""
}
```

8.查询是否是会员

**请求URL：** 
- ` http://100.100.100.100:8080/api/member/ismember `
  
**请求方式：**
- POST 

**参数：** 

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|token |是  |string | token    |



 **返回示例**

```
{
    "errno": 0,
    "errmsg": "",
    "data": {
        "isMember": true
    }
}
```

13.病历列表list接口

**请求URL：** 
- ` http://100.100.100.100:8080/api/electronic_record/list `
  
**请求方式：**
- POST 

**参数：** 

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|token |是  |string | token    |
|page |是  |int | 页码,从1开始   |
|size |是  |int | 页面大小   |
|displayMode |否  |string | 列表显示模式,值只能是: datetime或者group_and_datetime，如果不填，等同于datetime   |


 **返回示例**

```
{
    "errno": 0,
    "errmsg": "",
    "data": {
        "list": {
            "count": 53,
            "totalPages": 6,
            "pageSize": 10,
            "currentPage": 1,
            "data": [
                {
                    "id": 38,
                    "userId": 7,
                    "hashName": "fd31c1a8ccb3972a113a86c973987a95.jpeg",
                    "checkTime": "2018-08-23",
                    "uploadTime": "2018-08-23 22:48:19",
                    "groupId": 3,
                    "status": 0,
                    "group": "病历组3",
                    "url": "http://down.cml922.com/electronic_record/fd31c1a8ccb3972a113a86c973987a95.jpeg"
                },
                {
                    "id": 35,
                    "userId": 7,
                    "hashName": "cd07e5a164045e309c9f428aed368bd4.jpeg",
                    "checkTime": "2018-08-08",
                    "uploadTime": "2018-08-23 11:28:54",
                    "groupId": 3,
                    "status": 0,
                    "group": "病历组3",
                    "url": "http://down.cml922.com/electronic_record/cd07e5a164045e309c9f428aed368bd4.jpeg"
                }
            ]
        },
        "isMember": true,
        "displayMode": "datetime"
    }
}
```

14.整理电子档案接口

**请求URL：** 
- ` http://100.100.100.100:8080/api/electronic_record_group/bulksetgroup `
  
**请求方式：**
- POST 

**参数：** 

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|token |是  |string | token    |
|recordIds |是  |int | 电子档案的id,可以填写多个，以逗号作为分隔符 |
|groupId |是  |int | 电子档案组的id  |

 **返回示例**

```
{
    "errno": 0,
    "errmsg": "",
    "data": ""
}
```
15.判断电子档案分组是否合法接口

**请求URL：** 
- ` http://100.100.100.100:8080/api/electronic_record_group/isvalidgroup `
  
**请求方式：**
- POST 

**参数：** 

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|token |是  |string | token    |
|groupId |是  |int | 电子档案组的id  |

 **返回示例**

```
{
    "errno": 0,
    "errmsg": "",
    "data": {
        "isValidGroup": false
    }
}
```
16.电子档案分组字典接口

**请求URL：** 
- ` http://100.100.100.100:8080/api/electronic_record_group/groupinfo `
  
**请求方式：**
- POST 

**参数：** 

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|token |是  |string | token    |

 **返回示例**

```
{
    "errno": 0,
    "errmsg": "",
    "data": {
        "groupList": [
            {
                "groupId": 1,
                "group": "病历组1"
            },
            {
                "groupId": 2,
                "group": "病历组2"
            },
            {
                "groupId": 3,
                "group": "病历组3"
            },
            {
                "groupId": 4,
                "group": "病历组4"
            }
        ],
        "groupInfo": {
            "1": "病历组1",
            "2": "病历组2",
            "3": "病历组3",
            "4": "病历组4"
        }
    }
}
```

17.会员病历历史小结列表

**请求URL：** 
- ` http://100.100.100.100:8080/api/member_history_summary/list `
  
**请求方式：**
- POST 

**参数：** 

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|token |是  |string | token    |

 **返回示例**

```
{
    "errno": 0,
    "errmsg": "",
    "data": {
        "list": [
            {
                "summaryId": 1,
                "userId": 7,
                "content": "test内容",
                "isread": 0,
                "createdAt": "2018-12-31 15:29:22",
                "contentUrl": "http://h5.cml922.com/xxx"
            }
        ]
    }
}
```
18.添加会员病历历史小结

**请求URL：** 
- ` http://100.100.100.100:8080/api/member_history_summary/add `
  
**请求方式：**
- POST 

**参数：** 

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|token |是  |string | token    |
|content |是  |string | 病历小结内容    |


 **返回示例**

```
{
    "errno": 0,
    "errmsg": "",
    "data": {
        "summaryId": 1
    }
}
```

19.删除会员病历历史小结

**请求URL：** 
- ` http://100.100.100.100:8080/api/member_history_summary/del `
  
**请求方式：**
- POST 

**参数：** 

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|token |是  |string | token    |
|summaryId |是  | int | 病历小结id    |


 **返回示例**

```
{
    "errno": 0,
    "errmsg": "",
    "data": ""
}
```

20.更新会员病历历史小结内容

**请求URL：** 
- ` http://100.100.100.100:8080/api/member_history_summary/update `
  
**请求方式：**
- POST 

**参数：** 

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|token |是  |string | token    |
|summaryId |是  | int | 病历小结id    |
|content |是  | string | 病历小结内容   |



 **返回示例**

```
{
    "errno": 0,
    "errmsg": "",
    "data": ""
}
```

21.标记会员病历历史小结已读

**请求URL：** 
- ` http://100.100.100.100:8080/api/member_history_summary/read `
  
**请求方式：**
- POST 

**参数：** 

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|token |是  |string | token    |
|summaryId |是  | int | 病历小结id    |

 **返回示例**

```
{
    "errno": 0,
    "errmsg": "",
    "data": ""
}
```

22.查询会员病历历史小结是否已读

**请求URL：** 
- ` http://100.100.100.100:8080/api/
_history_summary/isread `
  
**请求方式：**
- POST 

**参数：** 

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|token |是  |string | token    |
|summaryId |是  | int | 病历小结id    |

 **返回示例**

```
{
    "errno": 0,
    "errmsg": "",
    "data": {
        "isRead": true
    }
}
```

23.会员随访计划列表

**请求URL：** 
- ` http://100.100.100.100:8080/api/member_followup_plan/list `

**请求方式：**
- POST 

**参数：** 

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|token |是  |string | token    |

 **返回示例**

```
{
    "errno": 0,
    "errmsg": "",
    "data": {
        "commonList": [
            {
                "planId": 1,
                "content": "test",
                "createdAt": "2019-01-16 22:54:00",
                "contentUrl": "http://sh5.cml922.com/user/followup-plan?planId=1&readonlyToken=c4ca423",
                "title": "通用随访计划1"
            },
			            {
                "planId": 2,
                "content": "test",
                "createdAt": "2019-01-16 22:54:00",
                "contentUrl": "http://sh5.cml922.com/user/followup-plan?planId=1&readonlyToken=c4ca423",
                "title": "通用随访计划2"
            },
        ],
        "list": [
            {
			    "title":"随访计划1"，
                "planId": 2,
                "userId": 7,
                "content": "test内容",
                "planDate": "2018-05-24",
                "isread": 1,
                "createdAt": "2018-12-31 21:14:56",
                "contentUrl": "http://h5.cml922.com/xxx"
            },
            {
			    "title":"随访计划2"，
                "planId": 3,
                "userId": 7,
                "content": "随访计划内容3",
                "planDate": "2018-09-30",
                "isread": 0,
                "createdAt": "2018-12-31 21:14:58",
                "contentUrl": "http://h5.cml922.com/xxx"
            },
            {
			    "title":"随访计划3"，
                "planId": 5,
                "userId": 7,
                "content": "eqqeqeqeqeq",
                "planDate": "2018-06-12",
                "isread": 0,
                "createdAt": "2019-01-07 22:45:04",
                "contentUrl": "http://h5.cml922.com/xxx"
            }
        ]
    }
}
```
24.添加会员随访计划小结

**请求URL：** 
- ` http://100.100.100.100:8080/api/member_followup_plan/add `
  
**请求方式：**
- POST 

**参数：** 

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|token |是  |string | token    |
|content |是  |string | 病历小结内容    |
|planDate |是  |string | 随访日期，格式为:2018-09-12    |



 **返回示例**

```
{
    "errno": 0,
    "errmsg": "",
    "data": {
        "planId": 1
    }
}
```

25.删除会员随访计划小结

**请求URL：** 
- ` http://100.100.100.100:8080/api/member_followup_plan/del `
  
**请求方式：**
- POST 

**参数：** 

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|token |是  |string | token    |
|planId |是  | int | 随访计划id    |


 **返回示例**

```
{
    "errno": 0,
    "errmsg": "",
    "data": ""
}
```

26.更新会员随访计划内容

**请求URL：** 
- ` http://100.100.100.100:8080/api/member_followup_plan/update `
  
**请求方式：**
- POST 

**参数：** 

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|token |是  |string | token    |
|planId |是  | int | 随访计划id    |
|content |是  | string | 随访计划内容   |
|plantDate |是  |string | 随访日期，格式为:2018-09-12    |




 **返回示例**

```
{
    "errno": 0,
    "errmsg": "",
    "data": ""
}
```

27.标记会员随访计划已读

**请求URL：** 
- ` http://100.100.100.100:8080/api/member_followup_plan/read `
  
**请求方式：**
- POST 

**参数：** 

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|token |是  |string | token    |
|planId |是  | int | 随访计划id    |

 **返回示例**

```
{
    "errno": 0,
    "errmsg": "",
    "data": ""
}
```

28.查询会员随访计划是否已读

**请求URL：** 
- ` http://100.100.100.100:8080/api/member_followup_plan/isread `2019-01-01 02:42:42 星期二
  
**请求方式：**
- POST 

**参数：** 

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|token |是  |string | token    |
|planId |是  | int | 随访计划id    |

 **返回示例**

```
{
    "errno": 0,
    "errmsg": "",
    "data": {
        "isRead": true
    }
}
```

29.用户每次打开app，检查app是否需要去签到

**请求URL：** 
- ` http://100.100.100.100:8080/api/medicine_sign/shouldalert`
  
**请求方式：**
- POST 

**参数：** 

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|token |是  |string | token    |

 **返回示例**

```
{
    "errno": 0,
    "errmsg": "",
    "data": {
        "shouldalert": true
    }
}
```
30.用户每次打开app，检查用户是否马上有随访计划（三天以内的）

**请求URL：** 
- ` http://100.100.100.100:8080/api/member_followup_plan/shouldalert `
  
**请求方式：**
- POST 

**参数：** 

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|token |是  |string | token    |

 **返回示例**

```
{
    "errno": 0,
    "errmsg": "",
    "data": {
        "shouldAlert": false
    }
}
```
31.对应某个服药计划的用户签到历史

**请求URL：** 
- ` http://100.100.100.100:8080/api/medicine_sign/historybyplan `
  
**请求方式：**
- POST 

**参数：** 

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|token |是  |string | token    |
|page |是  |int | 页码，从1开始    |
|size |是  |int | 页面大小   |
|medicinePlanId |是  |int | 服药计划Id    |


 **返回示例**

```
{
    "errno": 0,
    "errmsg": "",
    "data": {
        "list": {
            "count": 12,
            "totalPages": 6,
            "pageSize": 2,
            "currentPage": 1,
            "data": [
                {
                    "id": 212,
                    "userId": 7,
                    "medicinePlanId": 51,
                    "signDate": "2018-09-22",
                    "signTime": "1",
                    "eatMedicineOnTime": 1,
                    "dosage": 200,
                    "badEffect": "",
                    "badEffectDetail": "",
                    "status": 0,
                    "medicine": "未知",
                    "frequency": 3,
                    "isMain": false
                },
                {
                    "id": 154,
                    "userId": 7,
                    "medicinePlanId": 51,
                    "signDate": "2018-09-15",
                    "signTime": "2",
                    "eatMedicineOnTime": 1,
                    "dosage": 300,
                    "badEffect": "",
                    "badEffectDetail": "",
                    "status": 0,
                    "medicine": "未知",
                    "frequency": 3,
                    "isMain": false
                }
            ]
        }
    }
}
```

32.获取好大夫医疗咨询的Url

**请求URL：** 
- ` http://100.100.100.100:8080/api/hdf/hdfurl `
  
**请求方式：**
- POST 

**参数：** 

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|token |是  |string | token    |

 **返回示例**

```
{
    "errno": 0,
    "errmsg": "",
    "data": {
        "hdfUrl": "https://m.haodf.com/openplatform/auth?partnerKey=bd53f6143a0370cb&timestamp=1547825508&signature=32a1a9f28bf556d89856d1586ec060d3947ef879&partnerUserId=10"
    }
}
```
33.用户每次打开app，检查用户是否马上有随访计划（三天以内的）以及是否需要签到

**请求URL：** 
- ` http://100.100.100.100:8080/api/shouldalert/shouldalert `
  
**请求方式：**
- POST 

**参数：** 

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|token |是  |string | token    |

 **返回示例**

```
{
    "errno": 0,
    "errmsg": "",
    "data": {
        "medicineSignShouldAlert": false,
        "memberFollowupPlanShouldAlert": false
    }
}
```

## 状态码:
|code|message|
|:----    |:--------   |
|0 |成功 |
|-1 |手机号格式错误 |
|-2 |验证码发送失败 |
|-3 |缺少手机号 |
|-4 |缺少token |
|-5 |没有登陆 |
|-6 |验证码错误 |
|-7 |只能上传图片 |
|-8 |缺少分页参数 |
|-9 |手机号没有注册 |
|-10 |缺少不良反应id |
|-11 |文件不存在，无法删除 |
|-12 |不存在此服药计划 |
|-13 |缺少bcr_abl的日期范围和is值 |
|-14 |tki服药日期格式错误 |
|-15 |bcs_abl日期格式错误 |
|-16 |上传缺少检查日期参数 |
|-17 |不存在此服药签到 |
|-18 |同一种药只能添加一种服药计划 |
|-19 |用户必须设置至少一个主服药计划 |
|-20 |JSON数据解析失败 |
|-21 |服药计划和服药时间设置时间不匹配 |
|-22 |请填写性别,出生日期,联系电话,姓名 |
|-23 |请填写确诊时间,cml期,首次服药时间,是否合并化疗 |
|-24 |请填写tki相关信息 |
|-25 |请填写建议内容 |
|-26 |找不到此建议 |
|-27 |不能删除非本人提交的建议 |
|-28 |非法资讯id |
|-29 |不能删除非本人提交的记录 |
|-30 |非法电子档案groupId |
|-31 |用户不是会员|
|-32 |病史小结summaryId与会员名不匹配|
|-33 |随访计划与会员名不匹配|
|-34 |用户还未设置主服药计划|
|-35 |tki的值从以下值中选择:尼洛替尼, 达沙替尼 ,伊马替尼|
|-36 |tkiLabel的值从以下值中选择:尼洛替尼(达希纳), 达沙替尼(依尼舒，施达赛), 伊马替尼(格尼可，格列卫，昕维)|















